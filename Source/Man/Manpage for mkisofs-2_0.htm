<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0059)http://cdrecord.berlios.de/old/private/man/mkisofs-2.0.html -->
<HTML><HEAD><TITLE>Manpage for mkisofs-2.0</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<META content="A html version of the manpage for mkisofs-2.0" name=description>
<META content=mkisofs-2.0 name=keywords>
<META content="MSHTML 6.00.2900.2769" name=GENERATOR></HEAD>
<BODY 
background="Manpage for mkisofs-2_0_files/corrugated_xxxxxlight_metal.gif"><PRE><!-- Manpage converted by man2html 3.0.1 -->

</PRE>
<H2>NAME</H2><PRE>     mkisofs - create  an  hybrid  ISO9660/JOLIET/HFS  filesystem
     with optional Rock Ridge attributes.


</PRE>
<H2>SYNOPSIS</H2><PRE>     <B>mkisofs</B> [ <I>options</I> ] [ -<B>o</B> <I>filename</I> ] <I>pathspec</I> [<I>pathspec</I> ...]


</PRE>
<H2>DESCRIPTION</H2><PRE>     <B>mkisofs</B> is effectively a pre-mastering program  to  generate
     an ISO9660/JOLIET/HFS hybrid filesystem.

     <B>mkisofs</B> is capable of generating the <B>System</B> <B>Use</B> <B>Sharing</B> <B>Pro-</B>
     <B>tocol</B> <B>records</B> <B>(SUSP)</B> specified by the <B>Rock</B> <B>Ridge</B> <B>Interchange</B>
     <B>Protocol.</B> This is used to further describe the files in  the
     iso9660  filesystem to a unix host, and provides information
     such as longer filenames, uid/gid, posix  permissions,  sym-
     bolic links, block and character devices.

     If Joliet or HFS hybrid command line options are  specified,
     <B>mkisofs</B>  will  create  additional  filesystem  meta data for
     Joliet or HFS.  The file content in this case refers to  the
     same  data  blocks  on  the  media.  It will generate a pure
     ISO9660 filesystem unless the Joliet or HFS  hybrid  command
     line options are given.

     <B>mkisofs</B> can generate a <I>true</I> (or <I>shared</I>) HFS hybrid  filesys-
     tem. The same files are seen as HFS files when accessed from
     a Macintosh and as ISO9660 files when  accessed  from  other
     machines. HFS stands for <I>Hierarchical</I> <I>File</I> <I>System</I> and is the
     native file system used on Macintosh computers.

     As an alternative, <B>mkisofs</B> can generate the <I>Apple</I> <I>Extensions</I>
     <I>to</I> <I>ISO9660</I> for each file. These extensions provide each file
     with CREATOR, TYPE and certain Finder  Flags  when  accessed
     from a Macintosh. See the <B>HFS</B> <B>MACINTOSH</B> <B>FILE</B> <B>FORMATS</B> section
     below.

     <B>mkisofs</B> takes a snapshot of a given directory tree, and gen-
     erates a binary image which will correspond to an ISO9660 or
     HFS filesystem when written to a block device.

     Each file written to the  iso9660  filesystem  must  have  a
     filename  in the 8.3 format (8 characters, period, 3 charac-
     ters, all upper case), even if Rock Ridge is in  use.   This
     filename is used on systems that are not able to make use of
     the  Rock  Ridge  extensions  (such  as  MS-DOS),  and  each
     filename  in each directory must be different from the other
     filenames in the same directory.  <B>mkisofs</B> generally tries to
     form  correct  names  by  forcing the unix filename to upper
     case and truncating as required, but often times this yields
     unsatisfactory  results when there are cases where the trun-
     cated names are not all unique.  <B>mkisofs</B> assigns  weightings
     to  each  filename,  and if two names that are otherwise the
     same are found the name with the lower priority  is  renamed
     to  have  a 3 digit number as an extension (where the number
     is guaranteed to be unique).  An example of  this  would  be
     the  files  foo.bar  and  foo.bar.~1~ - the file foo.bar.~1~
     would be written as FOO000.BAR;1 and the file foo.bar  would
     be written as FOO.BAR;1

     When used with various HFS options, <B>mkisofs</B> will attempt  to
     recognise  files  stored in a number of Apple/Unix file for-
     mats and will copy the data and resource forks  as  well  as
     any  relevant finder information. See the <B>HFS</B> <B>MACINTOSH</B> <B>FILE</B>
     <B>FORMATS</B> section below for more about  formats  <B>mkisofs</B>  sup-
     ports.

     Note that <B>mkisofs</B> is not designed to  communicate  with  the
     writer directly.  Most writers have proprietary command sets
     which vary from one manufacturer to another, and you need  a
     specialized tool to actually burn the disk.

     The <B>cdrecord</B> utility is a  utility  capable  of  burning  an
     actual  disc.   The  latest version of <B>cdrecord</B> is available
     from ftp://ftp.berlios.de/pub/cdrecord

     Also you should know that most cd writers are very  particu-
     lar about timing.  Once you start to burn a disc, you cannot
     let their buffer empty before you are done, or you will  end
     up  with  a  corrupt  disc.  Thus it is critical that you be
     able to maintain an uninterrupted data stream to the  writer
     for the entire time that the disc is being written.

     <B>pathspec</B> is the path of the directory tree to be copied into
     the  iso9660  filesystem.   Multiple paths can be specified,
     and <B>mkisofs</B> will merge the files found in all of the  speci-
     fied path components to form the cdrom image.

     If the option -<I>graft</I>-<I>points</I> has been specified, it is possi-
     ble  to graft the paths at points other than the root direc-
     tory, and it is possible to graft files or directories  onto
     the  cdrom image with names different than what they have in
     the source filesystem.  This is easiest to illustrate with a
     couple  of  examples.   Let's start by assuming that a local
     file ../old.lis exists, and you wish to include  it  in  the
     cdrom image.


          foo/bar/=../old.lis

     will  include  the  file  old.lis  in  the  cdrom  image  at
     /foo/bar/old.lis, while

          foo/bar/xxx=../old.lis

     will  include  the  file  old.lis  in  the  cdrom  image  at
     /foo/bar/xxx.   The  same  sort  of  syntax can be used with
     directories as well.  <B>mkisofs</B> will  create  any  directories
     required such that the graft points exist on the cdrom image
     - the directories do not need to appear in one of the paths.
     By default, any directories that are created on the fly like
     this will have permissions 0555 and appear to  be  owned  by
     the  person  running mkisofs.  If you wish other permissions
     or owners of the intermediate directories, see  -uid,  -gid,
     -dir-mode, -file-mode and -new-dir-mode.

     <B>mkisofs</B> will also run on Win9X/NT4  machines  when  compiled
     with        Cygnus'       cygwin       (available       from
     http://sourceware.cygnus.com/cygwin/). Therefore most refer-
     ences in this man page to <I>Unix</I> can be replaced with <I>Win32</I>.



</PRE>
<H2>OPTIONS</H2><PRE>     -<B>abstract</B> <I>FILE</I>
          Specifies the abstract file name.  This  parameter  can
          also  be set in the file <B>.mkisofsrc</B> with ABST=filename.
          If specified in both places, the command  line  version
          is used.

     -<B>A</B> <I>application</I>_<I>id</I>
          Specifies a text string that will be written  into  the
          volume  header.   This  should describe the application
          that will be on the disc.  There is space on  the  disc
          for  128 characters of information.  This parameter can
          also be set in the file <B>.mkisofsrc</B>  with  APPI=id.   If
          specified  in  both places, the command line version is
          used.

     -<B>allow-lowercase</B>
          This options allows lower case characters to appear  in
          iso9660 filenames.
          This violates the ISO9660 standard, but it  happens  to
          work on some systems.  Use with caution.

     -<B>allow-multidot</B>
          This options allows more than  one  dot  to  appear  in
          iso9660  filenames.   A  leading dot is not affected by
          this option, it may be allowed separately using the  -<B>L</B>
          option.
          This violates the ISO9660 standard, but it  happens  to
          work on many systems.  Use with caution.

     -<B>biblio</B> <I>FILE</I>
          Specifies the bibliographic file name.  This  parameter
          can   also   be   set   in  the  file  <B>.mkisofsrc</B>  with
          BIBLO=filename.  If specified in both places, the  com-
          mand line version is used.

     -<B>cache-inodes</B>
          Cache inode and device numbers to find  hard  links  to
          files.   If <B>mkisofs</B> finds a hard link (a file with mul-
          tiple names), then the file will only  appear  once  on
          the CD. This helps to save space on the CD.  The option
          -<B>cache-inodes</B> is default on UNIX  like  operating  sys-
          tems.   Be careful when using this option on a filesys-
          tem without unique inode numbers as it  may  result  in
          files containing the wrong content on CD.

     -<B>no-cache-inodes</B>
          Do not cache inode and device numbers.  This option  is
          needed whenever a filesystem does not have unique inode
          numbers. It is the default on <B>Cygwin</B>.  As the Microsoft
          operating  system  that  runs below <B>Cygwin</B> is not POSIX
          compliant, it  does  not  have  unique  inode  numbers.
          Cygwin creates fake inode numbers from a hash algorithm
          that is not  100%  correct.   If  <B>mkisofs</B>  would  cache
          inodes  on Cygwin, it would believe that some files are
          identical although they are not.  The  result  in  this
          case are files that contain the wrong content if a sig-
          nificant amount of different  files  (&gt;  ~5000)  is  in
          inside  the tree that is to be archived.  This does not
          happen when  the  -<B>no-cache-inodes</B>  <B>is</B>  <B>used,</B>  <B>but</B>  <B>the</B>
          <B>disadvantage</B>  <B>mkisofs</B>  cannot  detect hardlinks anymore
          and the resulting CD image may be larger than expected.

     -<B>b</B> <I>eltorito</I>_<I>boot</I>_<I>image</I>
          Specifies the path and filename of the boot image to be
          used  when making an "El Torito" bootable CD. The path-
          name must be relative to the source path  specified  to
          <B>mkisofs.</B> This option is required to make an "El Torito"
          bootable CD.  The boot image must be exactly  the  size
          of  either  a  1200,  1440,  or  a  2880 kB floppy, and
          <B>mkisofs</B> will use this size  when  creating  the  output
          iso9660  filesystem.  It  is assumed that the first 512
          byte sector should be read from the boot image  (it  is
          essentially  emulating  a  normal  floppy drive).  This
          will work, for example, if the boot  image  is  a  LILO
          based boot floppy.

          If the boot image is not an image of a floppy, you need
          to  add  one  of  the options:  <B>-hard-disk-boot</B> or <B>-no-</B>
          <B>emul-boot</B>.  If the system should not boot off the  emu-
          lated disk, use <B>-no-boot</B>.

     -<B>eltorito-alt-boot</B>
          Start with a new set of "El  Torito"  boot  parameters.
          This  allows  to have more than one El Torito boot on a
          CD.  A maximum of 63 El Torito boot entries may be  put
          on a single CD.

     -<B>B</B> <I>img</I>_<I>sun4</I>,<I>img</I>_<I>sun4c</I>,<I>img</I>_<I>sun4m</I>,<I>img</I>_<I>sun4d</I>,<I>img</I>_<I>sun4e</I>
          Specifies a comma separated list of  boot  images  that
          are  needed  to  make  a bootable CD for sparc systems.
          There may be empty fields in the comma separated  list.
          This  option  is required to make a bootable CD for Sun
          sparc systems.  If the -<B>B</B>  or  -<B>sparc-boot</B>  option  has
          been specified, the first sector of the resulting image
          will contain a Sun disk label. This disk  label  speci-
          fies  slice  0  for  the  iso9660 image and slice 1 ...
          slice 7 for the boot images that  have  been  specified
          with  this option. Byte offset 512 ... 8191 within each
          of the additional boot images must  contain  a  primary
          boot that works for the appropriate sparc architecture.
          The rest of each of the images usually contains an  ufs
          filesystem that is used primary kernel boot stage.

          The implemented boot method is the  boot  method  found
          with  SunOS  4.x  and  SunOS 5.x.  However, it does not
          depend on SunOS internals but only on properties of the
          Open  Boot  prom.  For this reason, it should be usable
          for any OS that boots off a sparc system.

          If the special filename <B>...</B> is used, the actual and all
          following  boot  partitions  are mapped to the previous
          partition. If <B>mkisofs</B> is called with -<B>G</B>  <I>image</I>  -<B>B</B>  ...
          all  boot  partitions  are mapped to the partition that
          contains the iso9660 filesystem image and  the  generic
          boot  image  that is located in the first 16 sectors of
          the disk is used for all architectures.

     -<B>G</B> <I>generic</I>_<I>boot</I>_<I>image</I>
          Specifies the path and filename  of  the  generic  boot
          image  to  be  used  when making a generic bootable CD.
          The <B>generic_boot_image</B> will be placed on the  first  16
          sectors of the CD. The first 16 sectors are the sectors
          that are located  before  the  iso9660  primary  volume
          descriptor.   If  this option is used together with the
          -<B>sparc-boot</B> option, the Sun disk label will overlay the
          first 512 bytes of the generic boot image.

     -<B>hard-disk-boot</B>
          Specifies that the boot image used to create  "El  Tor-
          ito"  bootable  CDs is a hard disk image. The hard disk
          image must begin with a master boot  record  that  con-
          tains a single partition.

     -<B>no-emul-boot</B>
          Specifies that the boot image used to create  "El  Tor-
          ito" bootable CDs is a 'no emulation' image. The system
          will load and execute this image without performing any
          disk emulation.

     -<B>no-boot</B>
          Specifies that the created "El  Torito"  CD  should  be
          marked as not bootable. The system will provide an emu-
          lated drive for the image, but will boot off a standard
          boot device.

     -<B>boot-load-seg</B> <I>segment</I>_<I>address</I>
          Specifies the load segment address of  the  boot  image
          for no-emulation "El Torito" CDs.

     -<B>boot-load-size</B> <I>load</I>_<I>sectors</I>
          Specifies the number of "virtual" (512-byte) sectors to
          load  in no-emulation mode.  The default is to load the
          entire boot file.  Some BIOSes  may  have  problems  if
          this is not a multiple of 4.

     -<B>boot-info-table</B>
          Specifies that a 56-byte table with information of  the
          CD-ROM  layout  will  be  patched in at offset 8 in the
          boot file.  If this option is given, the boot  file  is
          modified in the source filesystem, so make sure to make
          a copy if this file cannot be easily regenerated!   See
          the <B>EL</B> <B>TORITO</B> <B>BOOT</B> <B>INFO</B> <B>TABLE</B> section for a description
          of this table.

     -<B>C</B> <I>last</I>_<I>sess</I>_<I>start</I>,<I>next</I>_<I>sess</I>_<I>start</I>
          This option is needed when <B>mkisofs</B> is used to create  a
          CDextra  or  the  image of a second session or a higher
          level session for a multi session disk.  The option  -<B>C</B>
          takes  a  pair of two numbers separated by a comma. The
          first number is the sector number of the  first  sector
          in the last session of the disk that should be appended
          to.  The second number is the starting sector number of
          the  new  session.  The expected pair of numbers may be
          retrieved by calling <B>cdrecord</B> -<B>msinfo</B>  <B>...</B>  If  the  -<B>C</B>
          option  is  used  in  conjunction  with  the -<B>M</B> option,
          <B>mkisofs</B> will create a filesystem image that is intended
          to  be  a continuation of the previous session.  If the
          -<B>C</B> option is used without the -<B>M</B> option,  <B>mkisofs</B>  will
          create  a  filesystem image that is intended to be used
          for a second session on a CDextra. This is a multi ses-
          sion  CD that holds audio data in the first session and
          a ISO9660 filesystem in the second session.

     -<B>c</B> <I>boot</I>_<I>catalog</I>
          Specifies the path and filename of the boot catalog  to
          be  used  when  making  an "El Torito" bootable CD. The
          pathname must be relative to the source path  specified
          to  <B>mkisofs.</B> This option is required to make a bootable
          CD.  This file will be inserted into  the  output  tree
          and  not  created  in the source filesystem, so be sure
          the  specified  filename  does  not  conflict  with  an
          existing  file,  as it will be excluded. Usually a name
          like "boot.catalog" is chosen.

     -<B>check-oldnames</B>
          Check all filenames imported from old session for  com-
          pliance  with actual <B>mkisofs</B> iso9660 file naming rules.
          It his option is not present, only names with a  length
          &gt; 31 are checked as these files are a hard violation of
          the iso9660 standard.

     -<B>check-session</B> <I>FILE</I>
          Check all  old  sessions  for  compliance  with  actual
          <B>mkisofs</B>  iso9660  file  naming  rules.   This is a high
          level option that is a combination of the options:   -<B>M</B>
          <I>FILE</I>  -<B>C</B> <B>0,0</B> -<B>check-oldnames</B> For the parameter <I>FILE</I> see
          description of -<B>M</B> option.

     -<B>copyright</B> <I>FILE</I>
          Specifies the Copyright file name.  This parameter  can
          also  be set in the file <B>.mkisofsrc</B> with COPY=filename.
          If specified in both places, the command  line  version
          is used.

     -<B>d</B>   Omit trailing period from files  that  do  not  have  a
          period.
          This violates the ISO9660 standard, but it  happens  to
          work on many systems.  Use with caution.

     -<B>D</B>   Do not use deep directory relocation, and instead  just
          pack them in the way we see them.
          This violates the ISO9660 standard, but it  happens  to
          work on many systems.  Use with caution.

     -<B>dir-mode</B> <I>mode</I>
          Overrides the mode of directories used  to  create  the
          image  to  <I>mode</I>.   Specifying this option automatically
          enables Rock Ridge extensions.

     -<B>dvd-video</B>
          Generate DVD-Video compliant UDF file system.  This  is
          done  by  sorting  the  order  of  the  content  of the
          appropriate files and by  adding  padding  between  the
          files if needed.

     -<B>f</B>   Follow symbolic links when generating  the  filesystem.
          When  this option is not in use, symbolic links will be
          entered using Rock Ridge if enabled, otherwise the file
          will be ignored.

     -<B>file-mode</B> <I>mode</I>
          Overrides the mode of regular files used to create  the
          image  to  <I>mode</I>.   Specifying this option automatically
          enables Rock Ridge extensions.

     -<B>gid</B> <I>gid</I>
          Overrides the gid read from the  source  files  to  the
          value  of  <I>gid</I>.   Specifying  this option automatically
          enables Rock Ridge extensions.

     -<B>gui</B> Switch the behaviour for a GUI.  This  currently  makes
          the  output  more verbose but may have other effects in
          future.

     -<B>graft-points</B>
          Allow to use graft points for filenames. If this option
          is  used,  all  filenames are checked for graft points.
          The filename is divided at the  first  unescaped  equal
          sign.  All  occurrences of '\\' and '=' characters must
          be escaped with '\\' if -<I>graft</I>-<I>points</I> has  been  speci-
          fied.

     -<B>hide</B> <I>glob</I>
          Hide <I>glob</I> from being seen on the ISO9660 or Rock  Ridge
          directory.   <I>glob</I>  is  a  shell wild-card-style pattern
          that must match any part of the filename or path.  Mul-
          tiple  globs  may  be hidden.  If <I>glob</I> matches a direc-
          tory, then the contents of that directory will be  hid-
          den.  In order to match a directory name, make sure the
          pathname does not include  a  trailing  '/'  character.
          All  the hidden files will still be written to the out-
          put CD image file.  Should  be  used  with  the  -<B>hide-</B>
          <B>joliet</B> option. See README.hide for more details.

     -<B>hide-list</B> <I>file</I>
          A file containing a list  of  <I>globs</I>  to  be  hidden  as
          above.

     -<B>hidden</B> <I>glob</I>
          Add the hidden (existence) ISO9660 directory  attribute
          for  <I>glob</I>.  This attribute will prevent <I>glob</I> from being
          listed on DOS based systems if the /A flag is not  used
          for  the listing.  <I>glob</I> is a shell wild-card-style pat-
          tern that must match any part of the filename or  path.
          In order to match a directory name, make sure the path-
          name does not include a trailing '/' character.  Multi-
          ple globs may be hidden.

     -<B>hidden-list</B> <I>file</I>
          A file containing a list of <I>globs</I>  to  get  the  hidden
          attribute as above.

     -<B>hide-joliet</B> <I>glob</I>
          Hide <I>glob</I> from being  seen  on  the  Joliet  directory.
          <I>glob</I> is a shell wild-card-style pattern that must match
          any part of the filename or path.  Multiple  globs  may
          be  hidden.  If <I>glob</I> matches a directory, then the con-
          tents of that directory will be hidden.   In  order  to
          match a directory name, make sure the pathname does not
          include a trailing '/' character.  All the hidden files
          will  still  be  written  to  the output CD image file.
          Should be used with the -<B>hide</B> option.  See  README.hide
          for more details.

     -<B>hide-joliet-list</B> <I>file</I>
          A file containing a list  of  <I>globs</I>  to  be  hidden  as
          above.

     -<B>hide-joliet-trans-tbl</B>
          Hide the <B>TRANS.TBL</B> files from the Joliet  tree.   These
          files  usually  don't make sense in the Joliet World as
          they list the real name and the ISO9660 name which  may
          both be different from the Joliet name.

     -<B>hide-rr-moved</B>
          Rename the directory <B>RR_MOVED</B> to <B>.rr_moved</B> in the  Rock
          Ridge  tree.   It  seems to be impossible to completely
          hide the <B>RR_MOVED</B> directory from the Rock  Ridge  tree.
          This  option  only  makes  the  visible  tree better to
          understand for people who don't know what  this  direc-
          tory is for.  If you need to have no <B>RR_MOVED</B> directory
          at all, you should use the -<B>D</B> option. Note that in case
          that  the  -<B>D</B>  option has been specified, the resulting
          filesystem is not ISO9660 level-1  compliant  and  will
          not  be readable on MS-DOS.  See also <B>NOTES</B> section for
          more information on the <B>RR_MOVED</B> directory.

     -<B>l</B>   Allow  full  31  character  filenames.   Normally   the
          ISO9660 filename will be in an 8.3 format which is com-
          patible with MS-DOS, even though the  ISO9660  standard
          allows  filenames  of  up to 31 characters.  If you use
          this option, the disc may be difficult to use on a  MS-
          DOS  system, but this comes in handy on some other sys-
          tems (such as the Amiga).  Use with caution.

     -<B>input-charset</B> <I>charset</I>
          Input charset that defines the characters used in local
          file names.  To get a list of valid charset names, call
          <B>mkisofs</B> -<B>input-charset</B> <B>help.</B> To get a 1:1 mapping,  you
          may  use  <B>default</B>  as charset name. The default initial
          values are <I>cp437</I> on DOS based systems and <I>iso8859</I>-<I>1</I>  on
          all  other  systems.   See <B>CHARACTER</B> <B>SETS</B> section below
          for more details.

     -<B>output-charset</B> <I>charset</I>
          Output charset that defines the characters that will be
          used  in  Rock  Ridge file names. Defaults to the input
          charset. See <B>CHARACTER</B>  <B>SETS</B>  section  below  for  more
          details.

     -<B>iso-level</B> <I>level</I>
          Set the iso9660 conformance level.  Valid  numbers  are
          1..3.

          With level 1, files may only consist of one section and
          filenames are restricted to 8.3 characters.

          With level 2, files may only consist of one section.

          With level 3, no restrictions apply.

          With all iso9660 levels all filenames are restricted to
          upper case letters, numbers and the underscore (_). The
          maximum filename length is restricted to 31 characters,
          the  directory nesting level is restricted to 8 and the
          maximum path length is limited to 255 characters.

     -<B>J</B>   Generate Joliet directory records in addition to  regu-
          lar  iso9660 file names.  This is primarily useful when
          the discs are to be used on  Windows-NT  or  Windows-95
          machines.    The  Joliet  filenames  are  specified  in
          Unicode and each path component can be up to 64 Unicode
          characters  long.   Note  that  Joliet is no standard -
          CD's that use only Joliet extensions  but  no  standard
          Rock  Ridge  extensions  may  usually  only  be used on
          Microsoft Win32 systems. Furthermore, the fact that the
          filenames  are  limited  to  64 characters and the fact
          that Joliet uses the UTF-16 coding for Unicode  charac-
          ters causes interoperability problems.

     -<B>joliet-long</B>
          Allow Joliet filenames to be up to 103 Unicode  charac-
          ters.  This  breaks  the  Joliet  specification  -  but
          appears to work. Use with caution. The  number  103  is
          derived  from:  the  maximum  Directory  Record  Length
          (254), minus the length of Directory Record (33), minus
          CD-ROM   XA  System  Use  Extension  Information  (14),
          divided by the UTF-16 character size (2).

     -<B>jcharset</B> <I>charset</I>
          Same as using -<B>input-charset</B> <I>charset</I>  and  -<B>J</B>  options.
          See <B>CHARACTER</B> <B>SETS</B> section below for more details.

     -<B>L</B>   Allow ISO9660 filenames to begin with a  period.   Usu-
          ally,  a  leading dot is replaced with an underscore in
          order to maintain MS-DOS compatibility.
          This violates the ISO9660 standard, but it  happens  to
          work on many systems.  Use with caution.

     -<B>log-file</B> <I>log</I>_<I>file</I>
          Redirect all error, warning and informational  messages
          to <I>log</I>_<I>file</I> instead of the standard error.

     -<B>m</B> <I>glob</I>
          Exclude <I>glob</I> from being written to CDROM.   <I>glob</I>  is  a
          shell  wild-card-style  pattern that must match part of
          the filename (not the path as with option -<B>x</B>).  Techni-
          cally <I>glob</I> is matched against the <I>d</I>-&gt;<I>d</I>_<I>name</I> part of the
          directory  entry.   Multiple  globs  may  be  excluded.
          Example:

          mkisofs -o rom -m '*.o' -m core -m foobar

          would exclude all files ending in ".o",  called  "core"
          or "foobar" to be copied to CDROM. Note that if you had
          a directory called "foobar" it too (and of  course  all
          its descendants) would be excluded.

          NOTE: The -<B>m</B> and -<B>x</B> option description should  both  be
          updated,  they  are wrong.  Both now work identical and
          use filename globbing. A file is excluded if either the
          last component matches or the whole path matches.

     -<B>exclude-list</B> <I>file</I>
          A file containing a list of  <I>globs</I>  to  be  exclude  as
          above.

     -<B>max-iso9660-filenames</B>
          Allow 37  chars  in  iso9660  filenames.   This  option
          forces  the  -<B>N</B> option as the extra name space is taken
          from the space reserved for ISO-9660 version numbers.
          This violates the ISO9660 standard, but it  happens  to
          work  on  many systems.  Although a conforming applica-
          tion needs to provide a buffer space  of  at  least  37
          characters,  disks created with this option may cause a
          buffer overflow in the reading  operating  system.  Use
          with extreme care.

     -<B>M</B> <I>path</I>
          or

     -<B>M</B> <I>device</I>
          Specifies path to existing iso9660 image to be  merged.
          The  alternate  form takes a SCSI device specifier that
          uses the same syntax as the <B>dev=</B> parameter of <B>cdrecord.</B>
          The  output  of  <B>mkisofs</B>  will  be  a new session which
          should get written to the end of the image specified in
          -M.   Typically  this requires multi-session capability
          for the recorder and cdrom drive that you are  attempt-
          ing  to  write  this image to.  This option may only be
          used in conjunction with the -<B>C</B> option.

     -<B>N</B>   Omit version numbers from ISO9660 file names.
          This violates the ISO9660 standard, but no  one  really
          uses the version numbers anyway.  Use with caution.

     -<B>new-dir-mode</B> <I>mode</I>
          Mode to use when creating new directories in the iso fs
          image.  The default mode is 0555.

     -<B>nobak</B>

     -<B>no-bak</B>
          Do not  include  backup  files  files  on  the  iso9660
          filesystem.   If the -<B>no-bak</B> option is specified, files
          that contain the characters '~' or '#' or end in '.bak'
          will  not be included (these are typically backup files
          for editors under unix).

     -<B>force-rr</B>
          Do not use the automatic Rock Ridge attributes recogni-
          tion  for previous sessions.  This helps to show rotten
          iso9660 extension records as e.g. created by NERO burn-
          ing ROM.

     -<B>no-rr</B>
          Do not use the Rock Ridge attributes from previous ses-
          sions.   This  may  help  to avoid getting into trouble
          when <B>mkisofs</B> finds illegal Rock Ridge signatures on  an
          old session.

     -<B>no-split-symlink-components</B>
          Don't split the SL components, but  begin  a  new  Con-
          tinuation Area (CE) instead. This may waste some space,
          but the SunOS 4.1.4 cdrom driver has a bug  in  reading
          split SL components (link_size = component_size instead
          of link_size += component_size).

     -<B>no-split-symlink-fields</B>
          Don't split the SL fields, but begin a new Continuation
          Area  (CE)  instead. This may waste some space, but the
          SunOS 4.1.4 and Solaris 2.5.1 cdrom driver have  a  bug
          in reading split SL fields (a `/' can be dropped).

     -<B>o</B> <I>filename</I>
          is the name of the file to which the iso9660 filesystem
          image  should  be  written.  This can be a disk file, a
          tape drive, or it can correspond directly to the device
          name  of  the  optical  disc writer.  If not specified,
          stdout is used.  Note that the output  can  also  be  a
          block special device for a regular disk drive, in which
          case the disk partition can be mounted and examined  to
          ensure that the premastering was done correctly.

     -<B>pad</B> Pad the end of the ISO9660 by 16 sectors (32kB). If the
          total  size  then  is not a multiple of 16 sectors, the
          needed number of sectors is added.  If the option -<B>B</B> is
          used,  then there is a second padding at the end of the
          boot partitions.

          The padding is needed as many operating  systems  (e.g.
          Linux)  implement  read  ahead bugs in their filesystem
          I/O. These bugs result in read errors on  one  or  more
          files  that are located at the end of a track. They are
          usually present when the CD is written in Track at Once
          mode or when the disk is written as mixed mode CD where
          an audio track follows the data track.

          To avoid problems with I/O error on the  last  file  on
          the  filesystem,  the  -<B>pad</B>  option  has  been made the
          default.

     -<B>no</B>-<B>pad</B>
          Do not Pad the end of the ISO9660 by 16 sectors (32kB).

     -<B>path-list</B> <I>file</I>
          A file containing a list of  <I>pathspec</I>  directories  and
          filenames  to  be added to the ISO9660 filesystem. This
          list of pathspecs are processed after any  that  appear
          on  the  command  line.  If the argument is -, then the
          list is read from the standard input.

     -<B>P</B> <I>publisher</I>_<I>id</I>
          Specifies a text string that will be written  into  the
          volume  header.   This should describe the publisher of
          the CDROM, usually with a  mailing  address  and  phone
          number.   There is space on the disc for 128 characters
          of information.  This parameter can also be set in  the
          file  <B>.mkisofsrc</B>  with  PUBL=.   If  specified  in both
          places, the command line version is used.

     -<B>p</B> <I>preparer</I>_<I>id</I>
          Specifies a text string that will be written  into  the
          volume  header.   This  should describe the preparer of
          the CDROM, usually with a  mailing  address  and  phone
          number.   There is space on the disc for 128 characters
          of information.  This parameter can also be set in  the
          file  <B>.mkisofsrc</B>  with  PREP=.   If  specified  in both
          places, the command line version is used.

     -<B>print-size</B>
          Print estimated filesystem size  in  multiples  of  the
          sector  size  (2048  bytes)  and  exit.  This option is
          needed for Disk At Once mode and with some CD-R  drives
          when  piping directly into <B>cdrecord.</B> In this case it is
          needed to know the size of the  filesystem  before  the
          actual  CD-creation  is  done.   The option -print-size
          allows to get this size from a "dry-run" before the  CD
          is actually written.  Old versions of <B>mkisofs</B> did write
          this information (among other information)  to  <I>stderr</I>.
          As  this  turns  out  to  be  hard to parse, the number
          without any other information is now printed on  <B>stdout</B>
          too.   If  you  like  to  write  a simple shell script,
          redirect <B>stderr</B> and catch the number from <B>stdout</B>.  This
          may be done with:

          <B>cdblocks=`</B> <B>mkisofs</B> <B>-print-size</B> <B>-quiet</B> <B>...</B> <B>`</B>

          <B>mkisofs</B> <B>...</B> <B>|</B> <B>cdrecord</B> <B>...</B> <B>tsize=${cdblocks}s</B> <B>-</B>

     -<B>quiet</B>
          This makes <B>mkisofs</B> even less verbose.  No progress out-
          put will be provided.

     -<B>R</B>   Generate SUSP and RR records using the Rock Ridge  pro-
          tocol  to  further  describe  the  files on the iso9660
          filesystem.

     -<B>r</B>   This is like the -R  option,  but  file  ownership  and
          modes  are  set to more useful values.  The uid and gid
          are set to zero, because they are usually  only  useful
          on  the  author's system, and not useful to the client.
          All the file read bits are set true, so that files  and
          directories  are  globally  readable on the client.  If
          any execute bit is set for a file, set all of the  exe-
          cute  bits, so that executables are globally executable
          on the client.  If any search bit is set for  a  direc-
          tory,  set  all of the search bits, so that directories
          are globally searchable on the client.  All write  bits
          are  cleared,  because the CD-Rom will be mounted read-
          only in any case.  If any of the special mode bits  are
          set, clear them, because file locks are not useful on a
          read-only file system, and set-id bits are  not  desir-
          able  for uid 0 or gid 0.  When used on Win32, the exe-
          cute bit is set on <I>all</I> files. This is a result  of  the
          lack  of file permissions on Win32 and the Cygwin POSIX
          emulation  layer.   See  also  -uid  -gid,   -dir-mode,
          -file-mode and -new-dir-mode.

     -<B>relaxed-filenames</B>
          The option -<B>relaxed-filenames</B> allows ISO9660  filenames
          to include digits, uppercase characters and all other 7
          bit ASCII characters (resp. anything  except  lowercase
          characters).
          This violates the ISO9660 standard, but it  happens  to
          work on many systems.  Use with caution.

     -<B>sort</B> <I>sort</I> <I>file</I>
          Sort file locations on the media. Sorting is controlled
          by  a file that contains pairs of filenames and sorting
          offset weighting.  If the weighting is higher, the file
          will  be  located closer to the beginning of the media,
          if the weighting is lower, the  file  will  be  located
          closer  to the end of the media. There must be only one
          space or tabs character between the  filename  and  the
          weight  and the weight must be the last characters on a
          line. The filename is taken to include all the  charac-
          ters  up  to,  but  not including the last space or tab
          character on a line. This is to allow for space charac-
          ters  to  be  in,  or  at  the end of a filename.  This
          option does <B>not</B> sort the order of the file  names  that
          appear  in the ISO9660 directory. It sorts the order in
          which the file data is written to the CD image -  which
          may be useful in order to optimize the data layout on a
          CD. See README.sort for more details.

     -<B>split-output</B>
          Split the output image into several files  of  approxi-
          mately  1  GB.   This helps to create DVD sized iso9660
          images on operating systems without large file support.
          Cdrecord  will  concatenate  more  than one file into a
          single track if writing to  a  DVD.   To  make  -<B>split-</B>
          <B>output</B>  work, the -<B>o</B> <I>filename</I> option must be specified.
          The   resulting   outout   images   will   be    named:
          <I>filename</I>_<I>00</I>,<I>filename</I>_<I>01</I>,filename_02...

     -<B>sysid</B> <I>ID</I>
          Specifies the system ID.  This parameter  can  also  be
          set  in  the  file  <B>.mkisofsrc</B> with SYSI=system_id.  If
          specified in both places, the command line  version  is
          used.

     -<B>T</B>   Generate a file TRANS.TBL  in  each  directory  on  the
          CDROM, which can be used on non-Rock Ridge capable sys-
          tems to help establish the correct file  names.   There
          is  also information present in the file that indicates
          the major and minor numbers  for  block  and  character
          devices, and each symlink has the name of the link file
          given.

     -<B>table-name</B> <I>TABLE</I>_<I>NAME</I>
          Alternative translation table file  name  (see  above).
          Implies  the  -<B>T</B>  option.  If you are creating a multi-
          session image you must use the same name as in the pre-
          vious session.

     -<B>ucs-level</B> <I>level</I>
          Set Unicode conformance level in the  Joliet  SVD.  The
          default  level  is 3.  It may be set to 1..3 using this
          option.

     -<B>udf</B> Include <B>UDF</B> support in the generated filesystem  image.
          <B>UDF</B>  support  is currently in alpha status and for this
          reason, it is not possible to create UDF  only  images.
          <B>UDF</B> data structures are currently coupled to the Joliet
          structures, so there are many pitfalls with the current
          implementation.  There  is no UID/GID support, there is
          no POSIX permission support, there is  no  support  for
          symlinks.   Note  that <B>UDF</B> wastes the space from sector
          ~20 to sector 256 at the beginning of the disk in addi-
          tion to the spcae needed for real <B>UDF</B> data structures.

     -<B>uid</B> <I>uid</I>
          Overrides the uid read from the  source  files  to  the
          value  of  <I>uid</I>.   Specifying  this option automatically
          enables Rock Ridge extensions.

     -<B>use-fileversion</B>
          The option -<B>use-fileversion</B> allows mkisofs to use  file
          version  numbers from the filesystem.  If the option is
          not specified, <B>mkisofs</B> creates a version if 1  for  all
          files.   File  versions  are strings in the range ;<I>1</I> to
          ;<I>32767</I> This option is the default on VMS.

     -<B>U</B>   Allows "Untranslated" filenames,  completely  violating
          the  iso9660  standards  described above. Forces on the
          -d, -l, -L, -N,  -relaxed-filenames,  -allow-lowercase,
          -allow-multidot  and -no-iso-translate flags. It allows
          more than one '.' character in the filename, as well as
          mixed  case filenames.  This is useful on HP-UX system,
          where the built-in CDFS filesystem does  not  recognize
          ANY extensions. Use with extreme caution.

     -<B>no-iso-translate</B>
          Do not translate the characters '#' and '~'  which  are
          invalid  for  iso9660  filenames.  These characters are
          though invalid often used by Microsoft systems.
          This violates the ISO9660 standard, but it  happens  to
          work on many systems.  Use with caution.

     -<B>V</B> <I>volid</I>
          Specifies the volume ID (volume name or  label)  to  be
          written into the master block.  This parameter can also
          be set in the file <B>.mkisofsrc</B> with VOLI=id.  If  speci-
          fied  in both places, the command line version is used.
          Note that if you assign a volume ID, this is  the  name
          that  will  be  used  as  the  mount  point used by the
          Solaris volume management system and the name  that  is
          assigned  to the disc on a Microsoft Win32 or Apple Mac
          platform.

     -<B>volset</B> <I>ID</I>
          Specifies the volset ID.  This parameter  can  also  be
          set  in  the  file  <B>.mkisofsrc</B> with VOLS=volset_id.  If
          specified in both places, the command line  version  is
          used.

     -<B>volset-size</B> #
          Sets the volume set size to #.  The volume set size  is
          the  number of CD's that are in a CD set.  The -<B>volset-</B>
          <B>size</B> option may be used to create CD's that are part of
          e.g.  a Operation System installation set of CD's.  The
          option -<B>volset-size</B> must be specified  before  -<B>volset-</B>
          <B>seqno</B> on each command line.

     -<B>volset-seqno</B> #
          Sets the volume set sequence number to #.   The  volume
          set  sequence number is the index number of the current
          CD in a CD set.  The option -<B>volset-size</B> must be speci-
          fied before -<B>volset-seqno</B> on each command line.

     -<B>v</B>   Verbose execution. If given twice on the command  line,
          extra debug information will be printed.

     -<B>x</B> <I>path</I>
          Exclude <I>path</I> from being written to CDROM.  <I>path</I> must be
          the  complete  pathname that results from concatenating
          the pathname given as command  line  argument  and  the
          path relative to this directory.  Multiple paths may be
          excluded.  Example:

          mkisofs -o cd -x /local/dir1 -x /local/dir2 /local

          NOTE: The -<B>m</B> and -<B>x</B> option description should  both  be
          updated,  they  are wrong.  Both now work identical and
          use filename globbing. A file is excluded if either the
          last component matches or the whole path matches.

     -<B>z</B>   Generate  special  RRIP   records   for   transparently
          compressed files.  This is only of use and interest for
          hosts that support transparent decompression,  such  as
          Linux  2.4.14  or later.  You must specify the -<B>R</B> or -<B>r</B>
          options to enable RockRidge,  and  generate  compressed
          files   using   the  <B>mkzftree</B>  utility  before  running
          <B>mkisofs</B>.  Note that transparent compression is  a  non-
          standard Rock Ridge extension.  The resulting disks are
          only transparently readable if used on Linux.  On other
          operating  systems  you  will  need to call <B>mkzftree</B> by
          hand to decompress the files.



</PRE>
<H2>HFS OPTIONS</H2><PRE>     -<B>hfs</B> Create an ISO9660/HFS hybrid CD. This option should  be
          used  in  conjunction  with the -<B>map</B>, -<B>magic</B> and/or the
          various <I>double</I> <I>dash</I> options given below.

     -<B>apple</B>
          Create an ISO9660 CD with Apple's  extensions.  Similar
          to the -<B>hfs</B> option, except that the Apple Extensions to
          ISO9660 are added instead of  creating  an  HFS  hybrid
          volume.

     -<B>map</B> <I>mapping</I>_<I>file</I>
          Use the <I>mapping</I>_<I>file</I> to set the CREATOR and TYPE infor-
          mation  for a file based on the filename's extension. A
          filename is mapped only if it is not one  of  the  know
          Apple/Unix  file formats. See the <B>HFS</B> <B>CREATOR/TYPE</B> sec-
          tion below.

     -<B>magic</B> <I>magic</I>_<I>file</I>
          The CREATOR and TYPE information  is  set  by  using  a
          file's  <I>magic</I>  <I>number</I> (usually the first few bytes of a
          file). The <I>magic</I>_<I>file</I> is only used if a file is not one
          of  the  known Apple/Unix file formats, or the filename
          extension has not been mapped using  the  -<B>map</B>  option.
          See   the  <B>HFS</B>  <B>CREATOR/TYPE</B>  section  below  for  more
          details.

     -<B>hfs-creator</B> <I>CREATOR</I>
          Set the default CREATOR for all files. Must be  exactly
          4  characters.  See  the <B>HFS</B> <B>CREATOR/TYPE</B> section below
          for more details.

     -<B>hfs-type</B> <I>TYPE</I>
          Set the default TYPE for all files. Must be  exactly  4
          characters.  See the <B>HFS</B> <B>CREATOR/TYPE</B> section below for
          more details.

     -<B>probe</B>
          Search  the  contents  of  files  for  all  the   known
          Apple/Unix  file  formats.   See the <B>HFS</B> <B>MACINTOSH</B> <B>FILE</B>
          <B>FORMATS</B> section below for  more  about  these  formats.
          However,  the  only  way  to  check  for  <I>MacBinary</I> and
          <I>AppleSingle</I> files is to open and read  them.  Therefore
          this  option <I>may</I> increase processing time. It is better
          to use one or more <I>double</I> <I>dash</I> options given  below  if
          the Apple/Unix formats in use are known.

     -<B>no-desktop</B>
          Do not create (empty) Desktop files.  New  HFS  Desktop
          files  will  be created when the CD is used on a Macin-
          tosh (and stored in the System  Folder).   By  default,
          empty Desktop files are added to the HFS volume.

     -<B>mac-name</B>
          Use the HFS filename as  the  starting  point  for  the
          ISO9660,  Joliet and Rock Ridge file names. See the <B>HFS</B>
          <B>MACINTOSH</B>   <B>FILE</B>   <B>NAMES</B>   section   below   for   more
          information.

     -<B>boot-hfs-file</B> <I>driver</I>_<I>file</I>
          Installs the <I>driver</I>_<I>file</I> that <I>may</I> make the CD  bootable
          on  a Macintosh. See the <B>HFS</B> <B>BOOT</B> <B>DRIVER</B> section below.
          (Alpha).

     -<B>part</B>
          Generate an HFS partition table. By default, no  parti-
          tion table is generated, but some older Macintosh CDROM
          drivers need an HFS partition table on the CDROM to  be
          able to recognize a hybrid CDROM.

     -<B>auto</B> <I>AutoStart</I>_<I>file</I>
          Make the HFS CD use the QuickTime 2.0 Autostart feature
          to   launch  an  application  or  document.  The  given
          filename must be the name of a document or  application
          located  at  the top level of the CD. The filename must
          be less than 12 characters. (Alpha).

     -<B>cluster-size</B> <I>size</I>
          Set the size in bytes  of  the  cluster  or  allocation
          units  of  PC  Exchange  files.  Implies the --<B>exchange</B>
          option. See the  <B>HFS</B>  <B>MACINTOSH</B>  <B>FILE</B>  <B>FORMATS</B>  section
          below.

     -<B>hide-hfs</B> <I>glob</I>
          Hide <I>glob</I> from the HFS volume. The  file  or  directory
          will  still  exist  in the ISO9660 and/or Joliet direc-
          tory.  <I>glob</I> is a  shell  wild-card-style  pattern  that
          must  match any part of the filename Multiple globs may
          be excluded.  Example:

          mkisofs -o rom -hfs -hide-hfs '*.o' -hide-hfs foobar

          would exclude  all  files  ending  in  ".o"  or  called
          "foobar"  from  the  HFS volume. Note that if you had a
          directory called "foobar" it too (and of course all its
          descendants) would be excluded.  The <I>glob</I> can also be a
          path name relative to the source directories  given  on
          the command line. Example:

          mkisofs -o rom -hfs -hide-hfs src/html src

          would exclude just the file or directory called  "html"
          from  the  "src" directory. Any other file or directory
          called "html" in the tree will not be excluded.  Should
          be used with the -<B>hide</B> and/or -<B>hide-joliet</B> options.  In
          order to match a directory name, make sure the pathname
          does   not   include  a  trailing  '/'  character.  See
          README.hide for more details.

     -<B>hide-hfs-list</B> <I>file</I>
          A file containing a list  of  <I>globs</I>  to  be  hidden  as
          above.

     -<B>hfs-volid</B> <I>hfs</I>_<I>volid</I>
          Volume name for the HFS partition.  This  is  the  name
          that  is  assigned  to  the  disc  on  a  Macintosh and
          replaces the <I>volid</I> used with the -<B>V</B> option

     -<B>icon-position</B>
          Use the icon position information, if it  exists,  from
          the Apple/Unix file.  The icons will appear in the same
          position as they would on a Macintosh  desktop.  Folder
          location  and  size  on  screen,  its scroll positions,
          folder View (view as Icons, Small Icons, etc.) are also
          preserved.   This  option  may become set by default in
          the future.  (Alpha).

     -<B>root-info</B> <I>file</I>
          Set the location, size  on  screen,  scroll  positions,
          folder  View etc. for the root folder of an HFS volume.
          See README.rootinfo for more information.  (Alpha)

     -<B>prep-boot</B> <I>FILE</I>
          PReP  boot  image  file.  Up  to  4  are  allowed.  See
          README.prep_boot (Alpha)

     -<B>input-hfs-charset</B> <I>charset</I>
          Input charset that defines the characters used  in  HFS
          file  names  when  used with the -<I>mac</I>-<I>name</I> option.  The
          default charset is cp10000  (Mac  Roman)  <I>cp10000</I>  (Mac
          Roman)  See <B>CHARACTER</B> <B>SETS</B> and <B>HFS</B> <B>MACINTOSH</B> <B>FILE</B> <B>NAMES</B>
          sections below for more details.

     -<B>output-hfs-charset</B> <I>charset</I>
          Output charset that defines the characters that will be
          used in the HFS file names. Defaults to the input char-
          set. See <B>CHARACTER</B> <B>SETS</B> section below for more details.

     -<B>hfs-unlock</B>
          By default, <B>mkisofs</B> will create an HFS volume  that  is
          <I>locked</I>.  This option leaves the volume unlocked so that
          other applications  (e.g.   hfsutils)  can  modify  the
          volume.  See the <B>HFS</B> <B>PROBLEMS/LIMITATIONS</B> section below
          for warnings about using this option.

     -<B>hfs-bless</B> <I>folder</I>_<I>name</I>
          "Bless" the given directory (folder). This  is  usually
          the  <B>System</B> <B>Folder</B> and is used in creating HFS bootable
          CDs. The name of the directory must be the  whole  path
          name  as <B>mkisofs</B> sees it. e.g. if the given pathspec is
          ./cddata and  the  required  folder  is  called  System
          Folder,  then  the  whole path name is "./cddata/System
          Folder" (remember to use quotes if  the  name  contains
          spaces).

     -<B>hfs-parms</B> <I>PARAMETERS</I>
          Override certain parameters used to create the HFS file
          system.  Unlikely  to  be used in normal circumstances.
          See the libhfs_iso/hybrid.h source file for details.

     --<B>cap</B>
          Look for AUFS  CAP  Macintosh  files.  Search  for  CAP
          Apple/Unix  file  formats only. Searching for the other
          possible Apple/Unix file formats  is  disabled,  unless
          other <I>double</I> <I>dash</I> options are given.

     --<B>netatalk</B>
          Look for NETATALK Macintosh files

     --<B>double</B>
          Look for AppleDouble Macintosh files

     --<B>ethershare</B>
          Look for Helios EtherShare Macintosh files

     --<B>ushare</B>
          Look for IPT UShare Macintosh files

     --<B>exchange</B>
          Look for PC Exchange Macintosh files

     --<B>sgi</B>
          Look for SGI Macintosh files

     --<B>xinet</B>
          Look for XINET Macintosh files

     --<B>macbin</B>
          Look for MacBinary Macintosh files

     --<B>single</B>
          Look for AppleSingle Macintosh files

     --<B>dave</B>
          Look for Thursby Software Systems DAVE Macintosh files

     --<B>sfm</B>
          Look for Microsoft's Services for Macintosh  files  (NT
          only) (Alpha)

     --<B>osx</B>-<B>double</B>
          Look for MacOS X AppleDouble Macintosh files

     --<B>osx</B>-<B>hfs</B>
          Look for MacOS X HFS Macintosh files



</PRE>
<H2>CHARACTER SETS</H2><PRE>     <B>mkisofs</B> processes file names in a  POSIX  compliant  way  as
     strings  of  8-bit characters.  To represent all codings for
     all languages, 8-bit characters are not sufficient.  Unicode
     or  <B>ISO-10646</B> define character codings that need at least 21
     bits  to  represent  all  known  languages.  They   may   be
     represented  with  <B>UTF-32</B>,  <B>UTF-16</B>  or <B>UTF-8</B> coding.  <B>UTF-32</B>
     uses a plain 32-bit coding but seems to be uncommon.  <B>UTF-16</B>
     is  used  by Microsoft with Win32 with the disadvantage that
     it only supports a subset of all codes and that 16-bit char-
     acters  are  not  compliant with the POSIX filesystem inter-
     face.

     Modern UNIX operating  systems  may  use  <B>UTF-8</B>  coding  for
     filenames.  This  coding  allows to use the complete Unicode
     code set.  Each 32-bit character is represented  by  one  or
     more  8-bit  characters.   If  a  character is coded in <B>ISO-</B>
     <B>8859-1</B> (used in Central Europe and North  America)  is  maps
     1:1  to  a  <B>UTF-32</B>  or <B>UTF-16</B> coded Unicode character.  If a
     character is coded in <B>7-Bit</B> <B>ASCII</B> (used  in  USA  and  other
     countries  with  limted character set) is maps 1:1 to a <B>UTF-</B>
     <B>32</B>, <B>UTF-16</B> or  <B>UTF-8</B>  coded  Unicode  character.   Character
     codes  that  cannot be represented as a single byte in UTF-8
     (typically if the value is &gt; 0x7F) use escape sequences that
     map to more than one 8-bit character.

     If all operating systems would  use  <B>UTF-8</B>  coding,  <B>mkisofs</B>
     would  not  need to recode characters in file names.  Unfor-
     tunately, Apple  uses  completely  nonstandard  codings  and
     Microsoft  uses a Unicode coding that is not compatible with
     the POSIX filename interface.

     For all non <B>UTF-8</B> coded operating systems, the actual  char-
     acter that each byte represents depends on the <I>character</I> <I>set</I>
     or <I>codepage</I> (which is the name used by  Microsoft)  used  by
     the  local  operating  system  in  use - the characters in a
     character set will reflect the region  or  natural  language
     used by the user.

     Usually character codes 0x00-0x1f  are  control  characters,
     codes  0x20-0x7f are the 7 bit ASCII characters and (on PC's
     and Mac's) 0x80-0xff are used for other characters.   Unfor-
     tunately  even  this  does  not  follow  ISO  standards that
     reserve the range 0x80-0x9f for control characters and  only
     allow 0xa0-0xff for other characters.

     As there is a lot more than 256 characters/symbols  in  use,
     only  a  small  subset  are  represented in a character set.
     Therefore the same character code may represent a  different
     character  in  different character sets. So a file name gen-
     erated, say in central Europe,  may  not  display  the  same
     character when viewed on a machine in, say eastern Europe.

     To make matters more complicated, different  operating  sys-
     tems   use  different  character  sets  for  the  region  or
     language. For example the character code for "small  e  with
     acute  accent" may be character code 0x82 on a PC, code 0x8e
     on a Macintosh and code 0xe9 on a UNIX system.   Note  while
     the  codings  used  on  a PC or Mac are nonstandard, Unicode
     codes this character as 0x00000000e9 which is basically  the
     same value as the value used by most UNIX systems.

     As long as not all operating systems and  applications  will
     use the Unicode character set as the basis for file names in
     a unique way, it may be necessary to specify which character
     set  your file names use in and which character set the file
     names should appear on the CD.

     There are four options to specify  the  character  sets  you
     want to use:

     -input-charset
          Defines the local character set you are using  on  your
          host  machine.  Any character set conversions that take
          place will use this character set as the staring point.
          The default input character sets are <I>cp437</I> on DOS based
          systems and <I>iso8859</I>-<I>1</I> on all other systems.

          If the -<I>J</I> option is given, then the Unicode equivalents
          of  the  input character set will be used in the Joliet
          directory. Using the -<I>jcharset</I> option is  the  same  as
          using the -<I>input</I>-<I>charset</I> and -<I>J</I> options.

     -output-charset
          Defines the character set that will be  used  with  for
          the  Rock  Ridge names on the CD. Defaults to the input
          character set. Only likely to be useful if  used  on  a
          non-Unix  platform.  e.g.  using <B>mkisofs</B> on a Microsoft
          Win32 machine to create Rock  Ridge  CDs.  If  you  are
          using  <B>mkisofs</B> on a Unix machine, it is likely that the
          output character set will be  the  same  as  the  input
          character set.

     -input-hfs-charset
          Defines the HFS character set used for HFS  file  names
          decoded  from  any  of the various Apple/Unix file for-
          mats. Only useful when used with -<I>mac</I>-<I>name</I> option.  See
          the  <B>HFS</B>  <B>MACINTOSH</B>  <B>FILE</B>  <B>NAMES</B>  for more information.
          Defaults to <I>cp10000</I> (Mac Roman).

     -output-hfs-charset
          Defines the HFS character set used to create  HFS  file
          names  from  the  input  character  set in use. In most
          cases this will be from the character  set  given  with
          the  -<I>input</I>-<I>charset</I>  option.  Defaults to the input HFS
          character set.

     There are a number of character sets built  in  to  <I>mkisofs</I>.
     To get a listing, use <B>mkisofs</B> -<B>input-charset</B> <B>help.</B>

     Additional character sets can be read from file for  any  of
     the  character set options by giving a filename as the argu-
     ment to the options. The given file will only be read if its
     name does not match one of the built in character sets.

     The format of the character set files is  the  same  as  the
     mapping            files            available           from
     http://www.unicode.org/Public/MAPPINGS The format  of  these
     files is:

          Column #1 is the input byte code (in hex as 0xXX)
          Column #2 is the Unicode (in hex as 0xXXXX)
          Rest of the line is ignored.

     Any blank line, line without two (or more)  columns  in  the
     above  format or comments lines (starting with the # charac-
     ter) are ignored without any  warnings.  Any  missing  input
     code is mapped to Unicode character 0x0000.

     Note that there is no support for 16 bit UNICODE (UTF-16) or
     32  bit  UNICODE  (UTF-32) coding because this coding is not
     POSIX compliant. There should be support for  UTF-8  UNICODE
     coding  which is compatible to POSIX filenames and supported
     by moder UNIX implementations such as Solaris.

     A 1:1 character set mapping can be defined by using the key-
     word  <I>default</I>  as  the  argument to any of the character set
     options. This is the behaviour of older (v1.12) versions  of
     <B>mkisofs</B>.

     The ISO9660 file names generated from  the  input  filenames
     are  not converted from the input character set. The ISO9660
     character set is a very limited subset of the ASCII  charac-
     ters, so any conversion would be pointless.

     Any character that <B>mkisofs</B> can not convert will be  replaced
     with a '_' character.


</PRE>
<H2>HFS CREATOR/TYPE</H2><PRE>     A Macintosh file has two properties associated with it which
     define  which  application created the file, the <I>CREATOR</I> and
     what data the file contains, the <I>TYPE</I>.  Both are (exactly) 4
     letter  strings.  Usually  this  allows  a Macintosh user to
     double-click on a file and launch  the  correct  application
     etc.  The CREATOR and TYPE of a particular file can be found
     by using something like ResEdit (or similar) on a Macintosh.

     The CREATOR and TYPE information is stored in all the  vari-
     ous  Apple/Unix encoded files.  For other files it is possi-
     ble to base the CREATOR and TYPE on the filename's extension
     using  a  <I>mapping</I>  file  (the  -<B>map</B> option) and/or using the
     <I>magic</I> <I>number</I> (usually a <I>signature</I> in the first few bytes) of
     a file (the -<B>magic</B> option). If both these options are given,
     then their order on the command line is  important.  If  the
     -<B>map</B>  option is given first, then a filename extension match
     is attempted before a magic number match.  However,  if  the
     -<B>magic</B>  option  is given first, then a magic number match is
     attempted before a filename extension match.

     If a mapping or magic file is not used, or no match is found
     then  the default CREATOR and TYPE for all regular files can
     be set by using entries in the <B>.mkisofsrc</B> file or using  the
     -<B>hfs-creator</B> and/or -<B>hfs-type</B> options, otherwise the default
     CREATOR and TYPE are 'unix' and 'TEXT'.

     The format of the <I>mapping</I> file is the same <I>afpfile</I> format as
     used by <I>aufs</I>.  This file has five columns for the <I>extension</I>,
     <I>file</I> <I>translation</I>, <I>CREATOR</I>, <I>TYPE</I> and <I>Comment</I>.  Lines starting
     with the '#' character are comment lines and are ignored. An
     example file would be like:

     # Example filename mapping file
     #
     # EXTN   XLate   CREATOR   TYPE     Comment
     .tif     Raw     '8BIM'    'TIFF'   "Photoshop TIFF image"
     .hqx     Ascii   'BnHq'    'TEXT'   "BinHex file"
     .doc     Raw     'MSWD'    'WDBN'   "Word file"
     .mov     Raw     'TVOD'    'MooV'   "QuickTime Movie"
     *        Ascii   'ttxt'    'TEXT'   "Text file"

     Where:

          The first column <I>EXTN</I> defines the Unix filename  exten-
          sion to be mapped. The default mapping for any filename
          extension that doesn't match is defined  with  the  "*"
          character.

          The <I>Xlate</I> column defines the type of  text  translation
          between  the  Unix  and Macintosh file it is ignored by
          <B>mkisofs</B>, but is kept to  be  compatible  with  <B>aufs(1)</B>.
          Although <B>mkisofs</B> does not alter the contents of a file,
          if a binary file has it's TYPE set as 'TEXT', it <I>may</I> be
          read  incorrectly  on  a  Macintosh. Therefore a better
          choice for the default TYPE may be '????'
          The <I>CREATOR</I> and <I>TYPE</I> keywords must be 4 characters long
          and enclosed in single quotes.

          The comment field is enclosed in double quotes - it  is
          ignored  by  <B>mkisofs</B>, but is kept to be compatible with
          <B>aufs</B>.

     The format of the <I>magic</I> file  is  almost  identical  to  the
     <B>magic(4)</B>  file  used by the Linux <B>file(1)</B> command - the rou-
     tines for reading and decoding the <I>magic</I> file are  based  on
     the Linux <B>file(1)</B> command.

     This file has  four  tab  separated  columns  for  the  <I>byte</I>
     <I>offset</I>, <I>type</I>, <I>test</I> and <I>message</I>.  Lines starting with the '#'
     character are comment lines and are ignored. An example file
     would be like:

     # Example magic file
     #
     # off   type      test       message
     0       string    GIF8       8BIM GIFf  GIF image
     0       beshort   0xffd8     8BIM JPEG  image data
     0       string    SIT!       SIT! SIT!  StuffIt Archive
     0       string     37235     LZIV ZIVU  standard unix compress
     0       string     37213     GNUz ZIVU  gzip compressed data
     0       string    %!         ASPS TEXT  Postscript
     0       string     04%!      ASPS TEXT  PC Postscript with a ^D to start
     4       string    moov       txtt MooV  QuickTime movie file (moov)
     4       string    mdat       txtt MooV  QuickTime movie file (mdat)

     The format of the file is  described  in  the  <B>magic(4)</B>  man
     page. The only difference here is that for each entry in the
     magic file, the <I>message</I> for the initial  offset  <B>must</B>  be  4
     characters  for the CREATOR followed by 4 characters for the
     TYPE - white space is optional between them. Any other char-
     acters on this line are ignored.  Continuation lines (start-
     ing with a '&gt;') are  also  ignored  i.e.  only  the  initial
     offset lines are used.

     Using the -<B>magic</B> option may significantly increase  process-
     ing  time  as  each file has to opened and read to find it's
     magic number.

     In summary, for all files, the default CREATOR is 'unix' and
     the  default  TYPE is 'TEXT'.  These can be changed by using
     entries in the .<I>mkisofsrc</I> file or by using the  -<B>hfs-creator</B>
     and/or -<B>hfs-type</B> options.

     If the a file is in one of the known Apple/Unix formats (and
     the format has been selected), then the CREATOR and TYPE are
     taken from the values stored in the Apple/Unix file.

     Other files can have their CREATOR and TYPE set  from  their
     file name extension (the -<B>map</B> option), or their magic number
     (the -<B>magic</B> option). If the default match  is  used  in  the
     <I>mapping</I> file, then these values override the default CREATOR
     and TYPE.

     A   full   CREATOR/TYPE   database   can   be    found    at
     http://www.angelfire.com/il/szekely/index.html



</PRE>
<H2>HFS MACINTOSH FILE FORMATS</H2><PRE>     Macintosh files have two parts called the <I>Data</I> and  <I>Resource</I>
     fork.  Either  may  be  empty. Unix (and many other OSs) can
     only cope with files having one part (or fork).  To  add  to
     this, Macintosh files have a number of attributes associated
     with them - probably the most important  are  the  TYPE  and
     CREATOR.  Again Unix has no concept of these types of attri-
     butes.

     e.g. a Macintosh file may be a JPEG image where the image is
     stored  in  the  Data fork and a desktop thumbnail stored in
     the Resource fork. It is usually the information in the data
     fork that is useful across platforms.

     Therefore to store a Macintosh file on a Unix filesystem,  a
     way has to be found to cope with the two forks and the extra
     attributes (which are  referred  to  as  the  <I>finder</I>  <I>info</I>).
     Unfortunately,  it  seems  that  every software package that
     stores Macintosh files on Unix has chosen a completely  dif-
     ferent storage method.

     The Apple/Unix formats  that  <I>mkisofs</I>  (partially)  supports
     are:

     CAP AUFS format
          Data fork stored in a file. Resource fork in  subdirec-
          tory  .resource with same filename as data fork. Finder
          info in .finderinfo subdirectory with same filename.

     AppleDouble/Netatalk
          Data fork stored in a file. Resource fork stored  in  a
          file with same name prefixed with "%". Finder info also
          stored in same "%" file. Netatalk uses the same format,
          but the resource fork/finderinfo stored in subdirectory
          .AppleDouble with same name as data fork.

     AppleSingle
          Data structures similar to above, except both forks and
          finder info are stored in one file.

     Helios EtherShare
          Data fork stored in a file. Resource  fork  and  finder
          info  together in subdirectory .rsrc with same filename
          as data fork.

     IPT UShare
          Very similar to the EtherShare format, but  the  finder
          info is stored slightly differently.

     MacBinary
          Both forks and finder info stored in one file.

     Apple PC Exchange
          Used by Macintoshes to store Apple files on  DOS  (FAT)
          disks.   Data  fork  stored in a file. Resource fork in
          subdirectory  resource.frk  (or  RESOURCE.FRK).  Finder
          info  as one record in file finder.dat (or FINDER.DAT).
          Separate finder.dat for each data fork directory.

          Note: <I>mkisofs</I> needs to know the native FAT cluster size
          of  the disk that the PC Exchange files are on (or have
          been copied from). This size is given by the  -<B>cluster-</B>
          <B>size</B>  option.   The  cluster  or allocation size can be
          found by using the DOS utility <B>CHKDSK</B>.

          May not work with PC  Exchange  v2.2  or  higher  files
          (available  with  MacOS  8.1).  DOS media containing PC
          Exchange files should be mounted  as  type  <B>msdos</B>  (not
          <B>vfat</B>) when using Linux.

     SGI/XINET
          Used by SGI machines when they mount  HFS  disks.  Data
          fork  stored  in  a file. Resource fork in subdirectory
          .HSResource with same name. Finder info as  one  record
          in  file  .HSancillary.  Separate .HSancillary for each
          data fork directory.

     Thursby Software Systems DAVE
          Allows Macintoshes to store Apple files on SMB servers.
          Data  fork stored in a file. Resource fork in subdirec-
          tory resource.frk. Uses the AppleDouble format to store
          resource fork.

     Services for Macintosh
          Format of files stored by NT Servers on  NTFS  filesys-
          tems.  Data fork is stored as "filename". Resource fork
          stored as a NTFS <I>stream</I> called "filename:AFP_Resource".
          The  finder  info  is  stored  as  a NTFS <I>stream</I> called
          "filename:Afp_AfpInfo".  These  streams  are   normally
          invisible to the user.

          Warning: mkisofs only partially supports the  SFM  for-
          mat.  If  an HFS file or folder stored on the NT server
          contains an <I>illegal</I> NT character in its name,  then  NT
          converts  these characters to <I>Private</I> <I>Use</I> <I>Unicode</I> char-
          acters. The characters are: " * / &lt; &gt; ?  | also a space
          or period if it is the last character of the file name,
          character codes 0x01 to 0x1f (control  characters)  and
          Apple' apple logo.

          Unfortunately, these private Unicode characters are not
          readable  by  the  mkisofs NT executable. Therefore any
          file or directory name containing these characters will
          be  ignored - including the contents of any such direc-
          tory.

     MacOS X AppleDouble
          When HFS/HFS+ files are copied or saved by MacOS  X  on
          to  a  non-HFS  file  system  (e.g. UFS, NFS etc.), the
          files are stored  in  AppleDouble  format.   Data  fork
          stored  in  a file. Resource fork stored in a file with
          same name prefixed with "._". Finder info  also  stored
          in same "._" file.

     MacOS X HFS (Alpha)
          Not really an Apple/Unix encoding, but actual  HFS/HFS+
          files  on a MacOS X system. Data fork stored in a file.
          Resource fork stored in a pseudo  file  with  the  same
          name  with  the  suffix '/rsrc'. The finderinfo is only
          available via a MacOS X library call.

          Notes: (also see README.macosx)

          Only works when used on MacOS X.

          If a file is found with a zero length resource fork and
          empty  finderinfo,  it  is  assumed  not  to  have  any
          Apple/Unix encoding - therefore a TYPE and CREATOR  can
          be set using other methods.

     <I>mkisofs</I> will attempt to set the CREATOR, TYPE, date and pos-
     sibly  other flags from the finder info. Additionally, if it
     exists, the Macintosh filename is set from the finder  info,
     otherwise the Macintosh name is based on the Unix filename -
     see the <B>HFS</B> <B>MACINTOSH</B> <B>FILE</B> <B>NAMES</B> section below.

     When using the -<B>apple</B>  option,  the  TYPE  and  CREATOR  are
     stored  in  the  optional  System  Use  or SUSP field in the
     ISO9660 Directory Record - in much the same way as the  Rock
     Ridge  attributes  are. In fact to make life easy, the Apple
     extensions are added at the beginning of the  existing  Rock
     Ridge  attributes  (i.e. to get the Apple extensions you get
     the Rock Ridge extensions as well).

     The Apple extensions require the resource fork to be  stored
     as  an ISO9660 <I>associated</I> file. This is just like any normal
     file stored in the ISO9660 filesystem except that the  asso-
     ciated  file  flag  is  set in the Directory Record (bit 2).
     This file has the same name as the data fork (the file  seen
     by   non-Apple  machines).  Associated  files  are  normally
     ignored by other OSs

     When using the -<B>hfs</B> option, the TYPE and CREATOR plus  other
     finder  info,  are  stored  in a separate HFS directory, not
     visible on the ISO9660 volume. The HFS directory  references
     the same data and resource fork files described above.

     In most cases, it is better to use the -<B>hfs</B>  option  instead
     of  the  -<B>apple</B>  option,  as  the latter imposes the limited
     ISO9660 characters allowed in filenames. However, the  Apple
     extensions  do  give the advantage that the files are packed
     on the disk more efficiently and it may be possible  to  fit
     more  files  on  a CD - important when the total size of the
     source files is approaching 650MB.



</PRE>
<H2>HFS MACINTOSH FILE NAMES</H2><PRE>     Where possible, the HFS filename  that  is  stored  with  an
     Apple/Unix file is used for the HFS part of the CD. However,
     not all the Apple/Unix encodings store the HFS filename with
     the  finderinfo. In these cases, the Unix filename is used -
     with escaped special characters. Special characters  include
     '/' and characters with codes over 127.

     Aufs escapes these characters by using ":" followed  by  the
     character  code  as  two hex digits. Netatalk and EtherShare
     have a similar scheme, but uses "%" instead of a ":".

     If mkisofs can't find an HFS filename, then it uses the Unix
     name,  with any %xx or :xx characters (xx == two hex digits)
     converted to a single character code. If "xx"  are  not  hex
     digits  ([0-9a-fA-F]),  then  they are left alone - although
     any remaining ":" is converted to "%" as colon  is  the  HFS
     directory separator. Care must be taken, as an ordinary Unix
     file with %xx or :xx will also be converted. e.g.

     This:2fFile   converted to This/File

     This:File     converted to This%File

     This:t7File   converted to This%t7File

     Although HFS filenames appear to  support  upper  and  lower
     case  letters,  the filesystem is case insensitive. i.e. the
     filenames "aBc" and "AbC" are the same. If a file  is  found
     in  a  directory  with  the same HFS name, then <I>mkisofs</I> will
     attempt, where possible, to make a unique name by adding '_'
     characters to one of the filenames.
     If an HFS filename exists for a file, then mkisofs  can  use
     this  name as the starting point for the ISO9660, Joliet and
     Rock Ridge filenames using the -<B>mac-name</B> option. Normal Unix
     files  without  an  HFS name will still use their Unix name.
     e.g.

     If  a  <I>MacBinary</I>  (or  <I>PC</I>  <I>Exchange</I>)  file  is   stored   as
     <I>someimage</I>.<I>gif</I>.<I>bin</I> on the Unix filesystem, but contains a HFS
     file called <I>someimage</I>.<I>gif</I>, then this is the name that  would
     appear  on  the HFS part of the CD. However, as mkisofs uses
     the Unix name as the starting point  for  the  other  names,
     then   the   ISO9660   name   generated   will  probably  be
     <I>SOMEIMAG</I>.<I>BIN</I>   and   the   Joliet/Rock   Ridge   would    be
     <I>someimage</I>.<I>gif</I>.<I>bin</I>.   Although the actual data (in this case)
     is a GIF image. This option will use the HFS filename as the
     starting  point  and  the  ISO9660  name  will  probably  be
     <I>SOMEIMAG</I>.<I>GIF</I>   and   the   Joliet/Rock   Ridge   would    be
     <I>someimage</I>.<I>gif</I>.

     Using the -<B>mac-name</B> option will not currently work with  the
     -<B>T</B>  option  -  the  Unix  name will be used in the TRANS.TBL
     file, not the Macintosh name.

     The character set used to convert any HFS  file  name  to  a
     Joliet/Rock Ridge file name defaults to <I>cp10000</I> (Mac Roman).
     The character set used can be specified  using  the  -<I>input</I>-
     <I>hfs</I>-<I>charset</I>  option.  Other built in HFS character sets are:
     cp10006 (MacGreek), cp10007 (MacCyrillic),  cp10029  (MacLa-
     tin2), cp10079 (MacIcelandandic) and cp10081 (MacTurkish).

     Note: the character codes used by HFS file names taken  from
     the various Apple/Unix formats will not be converted as they
     are assumed to be in the correct Apple character  set.  Only
     the  Joliet/Rock Ridge names derived from the HFS file names
     will be converted.

     The existing mkisofs code will filter out any illegal  char-
     acters  for the ISO9660 and Joliet filenames, but as mkisofs
     expects to be dealing directly with Unix  names,  it  leaves
     the  Rock  Ridge  names  as  is.   But as '/' is a legal HFS
     filename character, the -<B>mac-name</B> option converts '/'  to  a
     '_' in Rock Ridge filenames.

     If the Apple extensions are  used,  then  only  the  ISO9660
     filenames  will  appear  on  the  Macintosh. However, as the
     Macintosh ISO9660 drivers can use <I>Level</I>  <I>2</I>  filenames,  then
     you can use options like -<B>allow-multidot</B> without problems on
     a Macintosh - still take care over the  names,  for  example
     <I>this</I>.<I>file</I>.<I>name</I> will be converted to <I>THIS</I>.<I>FILE</I> i.e. only have
     one '.', also filename <I>abcdefgh</I> will be seen as <I>ABCDEFGH</I> but
     <I>abcdefghi</I>  will be seen as <I>ABCDEFGHI</I>. i.e. with a '.' at the
     end  -  don't  know  if  this  is  a  Macintosh  problem  or
     mkisofs/mkhybrid problem. All filenames will be in uppercase
     when viewed on a Macintosh. Of course,  DOS/Win3.X  machines
     will not be able to see Level 2 filenames...



</PRE>
<H2>HFS CUSTOM VOLUME/FOLDER ICONS</H2><PRE>     To give a HFS CD a custom icon,  make  sure  the  root  (top
     level)  folder  includes  a  standard  Macintosh volume icon
     file. To give a volume a custom icon on a Macintosh, an icon
     has  to  be  pasted over the volume's icon in the "Get Info"
     box of the volume. This creates  an  invisible  file  called
     'Icon\r'  ('\r'  is  the 'carriage return' character) in the
     root folder.

     A custom folder icon is very similar  -  an  invisible  file
     called 'Icon\r' exits in the folder itself.

     Probably the easiest  way  to  create  a  custom  icon  that
     mkisofs  can  use, is to format a blank HFS floppy disk on a
     Mac, paste an icon to its "Get Info"  box.  If  using  Linux
     with  the HFS module installed, mount the floppy using some-
     thing like:

                mount -t hfs /dev/fd0 /mnt/floppy

     The floppy will be mounted as a CAP file system by  default.
     Then run mkisofs using something like:

                mkisofs --cap -o output source_dir /mnt/floppy

     If you are not using Linux, then you can use the hfsutils to
     copy  the icon file from the floppy. However, care has to be
     taken, as the icon file contains a control character. e.g.

                hmount /dev/fd0
                hdir -a
                hcopy -m Icon^V^M icon_dir/icon

     Where '^V^M' is control-V followed by  control-M.  Then  run
     <B>mkisofs</B> by using something like:

                mkisofs --macbin -o output source_dir icon_dir

     The procedure for creating/using custom folder icons is very
     similar  -  paste  an  icon  to  folder's "Get Info" box and
     transfer the resulting 'Icon\r' file to the relevant  direc-
     tory in the mkisofs source tree.

     You may want to hide the icon files  from  the  ISO9660  and
     Joliet trees.


     To give a custom icon to a Joliet CD,  follow  the  instruc-
     tions                        found                       at:
     http://www.fadden.com/cdrfaq/faq03.html#[3-21]



</PRE>
<H2>HFS BOOT DRIVER</H2><PRE>     It <I>may</I> be possible to make  the  hybrid  CD  bootable  on  a
     Macintosh.

     A bootable HFS CD requires an Apple CD-ROM  (or  compatible)
     driver,  a  bootable HFS partition and the necessary System,
     Finder, etc. files.

     A driver can be obtained from any other  Macintosh  bootable
     CD-ROM using the <I>apple</I>_<I>driver</I> utility. This file can then be
     used with the -<B>boot-hfs-file</B> option.

     The HFS partition (i.e. the hybrid disk in  our  case)  must
     contain  a suitable System Folder, again from another CD-ROM
     or disk.

     For a partition to be bootable, it must have it's <I>boot</I> <I>block</I>
     set.  The  boot block is in the first two blocks of a parti-
     tion. For a non-bootable partition the boot block is full of
     zeros.  Normally,  when a System file is copied to partition
     on a Macintosh disk, the boot block is filled with a  number
     of  required  settings - unfortunately I don't know the full
     spec for the boot block, so I'm guessing that the  following
     will work OK.

     Therefore, the utility <I>apple</I>_<I>driver</I> also extracts  the  boot
     block  from  the  first  HFS partition it finds on the given
     CD-ROM and this is used for the  HFS  partition  created  by
     <B>mkisofs</B>.

     PLEASE NOTE
          By using a driver from an Apple CD  and  copying  Apple
          software  to  your  CD, you become liable to obey Apple
          Computer, Inc. Software License Agreements.


</PRE>
<H2>EL TORITO BOOT INFORMATION TABLE</H2><PRE>     When the -<B>boot-info-table</B>  option  is  given,  <B>mkisofs</B>  will
     modify the boot file specified by the -<B>b</B> option by inserting
     a 56-byte "boot information table" at offset 8 in the  file.
     This  modification is done in the source filesystem, so make
     sure you use a copy if this file is  not  easily  recreated!
     This file contains pointers which may not be easily or reli-
     ably obtained at boot time.

     The format of this table is as follows; all integers are  in
     section 7.3.1 ("little endian") format.

       Offset    Name           Size      Meaning
        8        bi_pvd         4 bytes   LBA of primary volume descriptor
       12        bi_file        4 bytes   LBA of boot file
       16        bi_length      4 bytes   Boot file length in bytes
       20        bi_csum        4 bytes   32-bit checksum
       24        bi_reserved    40 bytes  Reserved

     The 32-bit checksum is the sum of all the  32-bit  words  in
     the  boot file starting at byte offset 64.  All linear block
     addresses (LBAs) are given  in  CD  sectors  (normally  2048
     bytes).


</PRE>
<H2>CONFIGURATION</H2><PRE>     <B>mkisofs</B> looks for the <B>.mkisofsrc</B> file, first in the  current
     working  directory,  then  in the user's home directory, and
     then in the directory in which the <B>mkisofs</B> binary is stored.
     This  file  is  assumed  to contain a series of lines of the
     form <B>TAG=</B><I>value</I>, and in this  way  you  can  specify  certain
     options.   The  case  of  the  tag is not significant.  Some
     fields in the volume header are not settable on the  command
     line,  but  can  be altered through this facility.  Comments
     may be placed in this file, using lines which start  with  a
     hash (#) character.

     <B>APPI</B> The application identifier should describe the applica-
          tion  that  will be on the disc.  There is space on the
          disc for 128 characters of information.  May  be  over-
          ridden using the -<B>A</B> command line option.

     <B>COPY</B> The copyright information, often the name of a file  on
          the  disc  containing  the  copyright notice.  There is
          space in the disc for  37  characters  of  information.
          May  be  overridden  using  the -<B>copyright</B> command line
          option.

     <B>ABST</B> The abstract information, often the name of a  file  on
          the disc containing an abstract.  There is space in the
          disc for 37 characters of information.  May be overrid-
          den using the -<B>abstract</B> command line option.

     <B>BIBL</B> The bibliographic information, often the name of a file
          on  the disc containing a bibliography.  There is space
          in the disc for 37 characters of information.   May  be
          overridden using the -<B>bilio</B> command line option.

     <B>PREP</B> This should describe the preparer of the CDROM, usually
          with  a  mailing  address  and  phone number.  There is
          space on the disc for 128  characters  of  information.
          May be overridden using the -<B>p</B> command line option.

     <B>PUBL</B> This should describe the publisher of the  CDROM,  usu-
          ally with a mailing address and phone number.  There is
          space on the disc for 128  characters  of  information.
          May be overridden using the -<B>P</B> command line option.

     <B>SYSI</B> The System Identifier.  There is space on the disc  for
          32  characters of information.  May be overridden using
          the -<B>sysid</B> command line option.

     <B>VOLI</B> The Volume Identifier.  There is space on the disc  for
          32  characters of information.  May be overridden using
          the -<B>V</B> command line option.

     <B>VOLS</B> The Volume Set Name.  There is space on  the  disc  for
          128 characters of information.  May be overridden using
          the -<B>volset</B> command line option.

     <B>HFS_TYPE</B>
          The default TYPE for Macintosh files. Must be exactly 4
          characters.  May be overridden using the -<B>hfs-type</B> com-
          mand line option.

     <B>HFS_CREATOR</B>
          The  default  CREATOR  for  Macintosh  files.  Must  be
          exactly  4  characters.   May  be  overridden using the
          -<B>hfs-creator</B> command line option.

     <B>mkisofs</B> can also be configured at compile time with defaults
     for many of these fields.  See the file defaults.h.



</PRE>
<H2>EXAMPLES</H2><PRE>     To create a vanilla ISO-9660 filesystem image  in  the  file
     <I>cd</I>.<I>iso</I>,  where  the  directory  <I>cd</I>_<I>dir</I>  will become the root
     directory if the CD, call:

     % mkisofs -o cd.iso cd_dir

     To create a CD with Rock  Ridge  extensions  of  the  source
     directory <I>cd</I>_<I>dir</I>:

     % mkisofs -o cd.iso -R cd_dir

     To create a CD with Rock  Ridge  extensions  of  the  source
     directory  <I>cd</I>_<I>dir</I> where all files have at least read permis-
     sion and all files are owned by <I>root</I>, call:

     % mkisofs -o cd.iso -r cd_dir

     To create a HFS hybrid CD with the  Joliet  and  Rock  Ridge
     extensions of the source directory <I>cd</I>_<I>dir</I>:

     % mkisofs -o cd.iso -R -J -hfs cd_dir

     To create a HFS hybrid CD from the source  directory  <I>cd</I>_<I>dir</I>
     that contains Netatalk Apple/Unix files:

     % mkisofs -o cd.iso --netatalk cd_dir

     To create a HFS hybrid CD from the source directory  <I>cd</I>_<I>dir</I>,
     giving  all  files  CREATOR  and  TYPES  based on just their
     filename extensions listed in the file "mapping".:

     % mkisofs -o cd.iso -map mapping cd_dir

     To create a CD with the 'Apple Extensions to ISO9660',  from
     the source directories <I>cd</I>_<I>dir</I> and <I>another</I>_<I>dir</I>.  Files in all
     the known Apple/Unix format are decoded and any other  files
     are given CREATOR and TYPE based on their magic number given
     in the file "magic":

     % mkisofs -o cd.iso -apple -magic magic -probe \
             cd_dir another_dir

     The following example puts different files on  the  CD  that
     all  have  the name README, but have different contents when
     seen as a ISO9660/RockRidge, Joliet or HFS CD.

     Current directory contains:

     % ls -F
     README.hfs     README.joliet  README.unix    cd_dir/

     The following command puts the  contents  of  the  directory
     <I>cd</I>_<I>dir</I>  on  the  CD  along with the three README files - but
     only one will be seen from each of the three filesystems:

     % mkisofs -o cd.iso -hfs -J -r -graft-points \
             -hide README.hfs -hide README.joliet \
             -hide-joliet README.hfs -hide-joliet README.unix \
             -hide-hfs README.joliet -hide-hfs README.unix \
             README=README.hfs README=README.joliet \
             README=README.unix cd_dir

     i.e. the file README.hfs will be seen as README on  the  HFS
     CD  and the other two README files will be hidden. Similarly
     for the Joliet and ISO9660/RockRidge CD.

     There are probably all sorts  of  strange  results  possible
     with combinations of the hide options ...



</PRE>
<H2>AUTHOR</H2><PRE>     <B>mkisofs</B> is not based on the standard mk*fs tools  for  unix,
     because  we  must  generate  a complete  copy of an existing
     filesystem on a disk in the  iso9660 filesystem.   The  name
     mkisofs  is  probably a bit of a misnomer, since it not only
     creates the filesystem, but it also populates  it  as  well.
     However,  the  appropriate  tool  name  for a UNIX tool that
     creates populated filesystems - mkproto - is not well known.

     Eric Youngdale &lt;ericy@gnu.ai.mit.edu&gt; or  &lt;eric@andante.org&gt;
     wrote  the  first  versions  (1993  ... 1998) of the mkisofs
     utility.  The copyright for  old  versions  of  the  mkisofs
     utility is held by Yggdrasil Computing, Incorporated.  Joerg
     Schilling wrote the SCSI transport library and it's  adapta-
     tion  layer  to <B>mkisofs</B> and newer parts (starting from 1999)
     of the utility, this makes <B>mkisofs</B> Copyright (C) 1999, 2000,
     2001 Joerg Schilling.

     HFS hybrid code Copyright  (C)  James  Pearson  1997,  1998,
     1999, 2000, 2001
     libhfs code Copyright (C) 1996, 1997 Robert Leslie
     libfile code Copyright (C) Ian F. Darwin 1986,  1987,  1989,
     1990, 1991, 1992, 1994, 1995.


</PRE>
<H2>NOTES</H2><PRE>     <B>Mkisofs</B> may safely be  installed  suid  root.  This  may  be
     needed  to  allow  <B>mkisofs</B> to read the previous session when
     creating a multi session image.

     If <B>mkisofs</B> is creating a filesystem image  with  Rock  Ridge
     attributes  and  the  directory  nesting level of the source
     directory tree is too much for  ISO-9660,  <B>mkisofs</B>  will  do
     deep  directory  relocation.   This  results  in a directory
     called <B>RR_MOVED</B> in the root directory of the CD. You  cannot
     avoid this directory.


</PRE>
<H2>BUGS</H2><PRE>     <B>o</B>    Any files that have hard links to files not in the tree
          being  copied  to  the  iso9660 filesystem will have an
          incorrect file reference count.

     <B>o</B>    Does not check for SUSP record(s) in "." entry  of  the
          root  directory  to  verify the existence of Rock Ridge
          enhancements.

          This problem is present when reading old sessions while
          adding data in multi-session mode.

     <B>o</B>    Does not properly read relocated directories in  multi-
          session mode when adding data.

          Any relocated deep directory is lost if the new session
          does not include the deep directory.

          Repeat by: create first  session  with  deep  directory
          relocation  then add new session with a single dir that
          differs from the old deep path.

     <B>o</B>    Does not re-use RR_MOVED when doing multi-session  from
          TRANS.TBL

     <B>o</B>    Does  not  create  whole_name  entry  for  RR_MOVED  in
          multi-session mode.

     There may be some other ones.  Please, report  them  to  the
     author.



</PRE>
<H2>HFS PROBLEMS/LIMITATIONS</H2><PRE>     I have had to make several assumptions on how I  expect  the
     modified  libhfs  routines  to  work,  however  there may be
     situations that either I haven't thought of, or come  across
     when  these  assumptions  fail.  Therefore I can't guarantee
     that mkisofs will work as expected (although I haven't had a
     major problem yet). Most of the HFS features work fine, how-
     ever, some are not fully tested. These are marked  as  <I>Alpha</I>
     above.

     Although HFS filenames appear to  support  upper  and  lower
     case  letters,  the filesystem is case insensitive. i.e. the
     filenames "aBc" and "AbC" are the same. If a file  is  found
     in  a  directory  with  the same HFS name, then <I>mkisofs</I> will
     attempt, where possible, to make a unique name by adding '_'
     characters to one of the filenames.

     HFS file/directory names that share the first 31  characters
     have  _N' (N == decimal number) substituted for the last few
     characters to generate unique names.

     Care must be  taken  when  "grafting"  Apple/Unix  files  or
     directories  (see above for the method and syntax involved).
     It is not possible to use  a  new  name  for  an  Apple/Unix
     encoded  file/directory.  e.g.  If a Apple/Unix encoded file
     called "oldname" is to added to the CD, then you can not use
     the command line:

          mkisofs    -o     output.raw     -hfs     -graft-points
          newname=oldname cd_dir

     mkisofs will be unable to decode "oldname". However, you can
     graft Apple/Unix encoded files or directories as long as you
     do not attempt to give them new names as above.

     When creating an HFS volume with the  multisession  options,
     -<B>M</B> and -<B>C</B>, only files in the last session will be in the HFS
     volume. i.e. mkisofs can not <I>add</I> existing files from  previ-
     ous sessions to the HFS volume.

     However, if each session is created with the  -<B>part</B>  option,
     then  each  session  will  appear  as  separate volumes when
     mounted on a Mac. In this case, it is worth using the -<B>V</B>  or
     -<B>hfs-volid</B> option to give each session a unique volume name,
     otherwise each "volume" will appear on the Desktop with  the
     same name.

     Symbolic links (as with all other non-regular files) are not
     added to the HFS directory.

     Hybrid volumes may be larger than pure ISO9660 volumes  con-
     taining  the  same  data.  In  some  cases  (e.g.  DVD sized
     volumes) the hybrid volume may be significantly  larger.  As
     an HFS volume gets bigger, so does the allocation block size
     (the smallest amount of space a file  can  occupy).   For  a
     650Mb  CD,  the allocation block is 10Kb, for a 4.7Gb DVD it
     will be about 70Kb.

     The maximum number of files in an HFS volume is about  65500
     - although the real limit will be somewhat less than this.

     The resulting hybrid  volume  can  be  accessed  on  a  Unix
     machine  by using the hfsutils routines. However, no changes
     can be made to the volume as it is set as <B>locked.</B> The option
     -<B>hfs-unlock</B>  will  create an output image that is unlocked -
     however no changes should be made to  the  contents  of  the
     volume  (unless  you really know what you are doing) as it's
     not a "real" HFS volume.

     Using the -<B>mac-name</B> option will not currently work with  the
     -<B>T</B>  option  -  the  Unix  name will be used in the TRANS.TBL
     file, not the Macintosh name.

     Although <B>mkisofs</B> does not alter the contents of a file, if a
     binary  file  has  it's  TYPE  set as 'TEXT', it <I>may</I> be read
     incorrectly on a Macintosh. Therefore a  better  choice  for
     the default TYPE may be '????'

     The -<B>mac-boot-file</B> option may not work at all...

     May not work with PC Exchange v2.2 or higher  files  (avail-
     able  with  MacOS  8.1).   DOS  media containing PC Exchange
     files should be mounted as type <B>msdos</B> (not <B>vfat</B>) when  using
     Linux.

     The SFM format is only partially supported - see <B>HFS</B>  <B>MACIN-</B>
     <B>TOSH</B> <B>FILE</B> <B>FORMATS</B> section above.

     It is not possible to use the the -<B>sparc-boot</B>  or  -<B>generic-</B>
     <B>boot</B> options with the -<B>boot-hfs-file</B> or -<B>prep-boot</B> options.


     <B>mkisofs</B> should be able to create HFS hybrid images over 4Gb,
     although this has not been fully tested.



</PRE>
<H2>SEE ALSO</H2><PRE>     <B>cdrecord(1)</B>, <B>mkzftree(1)</B>, <B>magic(5)</B>, <B>apple_driver(8)</B>.



</PRE>
<H2>FUTURE IMPROVEMENTS</H2><PRE>     Some sort of gui interface.


</PRE>
<H2>AVAILABILITY</H2><PRE>     <B>mkisofs</B> is available as part of the  cdrecord  package  from
     ftp://ftp.berlios.de/pub/cdrecord/

     <B>hfsutils</B> from ftp://ftp.mars.org/pub/hfs

     <B>mkzftree</B> is available as part of  the  zisofs-tools  package
     from ftp://ftp.kernel.org/pub/linux/utils/fs/zisofs/


</PRE>
<H2>MAILING LISTS</H2><PRE>     If you want to actively take  part  on  the  development  of
     mkisofs, and/or mkhybrid, you may join the cdwriting mailing
     list by sending mail to:

               other-cdwrite-request@lists.debian.org

     and include the  word  <I>subscribe</I>  in  the  body.   The  mail
     address of the list is:

               cdwrite@lists.debian.org



</PRE>
<H2>MAINTAINER</H2><PRE>     Joerg Schilling
     Seestr. 110
     D-13353 Berlin
     Germany


</PRE>
<H2>HFS MKHYBRID MAINTAINER</H2><PRE>     James Pearson

     j.pearson@ge.ucl.ac.uk


     If you have support questions, send them to:

     <B>cdrecord-support@berlios.de</B>
     or <B>other-cdwrite@lists.debian.org</B>

     Of you definitly found a bug, send a mail to:

     <B>cdrecord-developers@berlios.de</B>
     or <B>schilling@fokus.fhg.de</B>

     To subscribe, use:

     <B>http://lists.berlios.de/mailman/listinfo/cdrecord-developers</B>
     or <B>http://lists.berlios.de/mailman/listinfo/cdrecord-support</B>













































</PRE>
<HR>

<ADDRESS>Man(1) output converted with <A 
href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</A> </ADDRESS>
<P>
<HR>
<A href="http://www.fhg.de/"><IMG alt="FhG " 
src="Manpage for mkisofs-2_0_files/fhglogr.gif" border=0></A> <A 
href="http://www.fhg.de/">FhG Homepage</A> <A 
href="http://cdrecord.berlios.de/"><IMG alt="FhG FOKUS " src="" border=0></A> <A 
href="http://cdrecord.berlios.de/">FOKUS Homepage</A> <A 
href="http://cdrecord.berlios.de/old/private/index.html"><IMG height=54 
alt="Schily " src="Manpage for mkisofs-2_0_files/schilling.gif" width=41 
border=0></A> <A 
href="http://cdrecord.berlios.de/old/private/index.html">Schily's Homepage</A> 
<A href="ftp://ftp.berlios.de/pub/ved/"><IMG alt="VED powered " 
src="Manpage for mkisofs-2_0_files/vedpowered.gif" border=0></A> </BODY></HTML>
